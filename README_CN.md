# Reader - PDF 阅读器

一个简洁的 macOS PDF 阅读器，支持划线高亮、添加笔记和英译中。

![截图](screenshot.png)

## 下载

[下载最新版本](../../releases/latest)

### 安装方法

1. 下载 `明天读.zip`
2. 解压后直接运行
3. **首次打开：** 打开系统设置 → 隐私与安全性 → 安全性 → 点击「仍要打开」（在「明天读」旁边）

首次打开后，以后就可以正常双击打开了。

## 这个软件能干什么

- 打开和阅读 PDF 文件
- 给文字划线高亮（有黄、粉、蓝、绿、橙 5 种颜色）
- 在高亮的地方写笔记
- 选中英文可以直接翻译成中文
- 可以同时打开多个 PDF，用标签页切换

## 系统要求

- 基本功能需要 macOS 13.0（Ventura）或更高版本
- 翻译功能需要 macOS 15.0（Sequoia）或更高版本
- 如果要自己编译，需要 Xcode 15.0 或更高版本

## 怎么编译

1. 用 Xcode 打开 `PreviewNotes.xcodeproj`
2. 选择 "PreviewNotes" scheme
3. 按 ⌘R 运行

## 怎么用

### 打开文件

- 点工具栏的文件夹图标，或者按 ⌘O 打开 PDF
- 每个文件会在新标签页打开
- 点标签页上的 X 可以关闭
- 如果有改动还没保存，标签页名字旁边会显示一个小圆点

### 高亮文字

1. 选中想要高亮的文字
2. 右键点击
3. 点「高亮」用当前颜色高亮，或者直接选一个颜色（黄色、粉色、蓝色、绿色、橙色）

### 删除高亮

右键点击高亮的文字，选「移除高亮」

### 添加笔记

1. 点击 PDF 中的高亮部分
2. 右侧边栏会出现笔记编辑框
3. 写完后点保存

### 翻译

1. 选中 PDF 中的英文
2. 右键选「翻译」
3. 弹窗会显示中文翻译
4. 点「复制」可以复制翻译结果

**注意：** 翻译功能需要 macOS 15.0 以上，并且要在系统设置 → 通用 → 语言与地区里下载中文语言包。

### 自定义术语表

如果你希望某些词按特定方式翻译：

1. 选中英文术语
2. 右键选「添加到术语表」
3. 输入你想要的中文翻译
4. 点保存

软件内置了 400 多个机器学习/AI/数学/编程相关的术语翻译，比如：
- "transformer" 会翻译成 "Transformer" 而不是 "变压器"
- "gradient descent" 会翻译成 "梯度下降"
- "token" 会翻译成 "词元" 而不是 "令牌"

### 搜索

1. 在侧边栏顶部的搜索框里输入关键词
2. 用上下箭头在搜索结果之间跳转
3. 点 X 清除搜索

### 缩放

- 点工具栏的 + 和 - 按钮
- 或者用 ⌘+ 放大，⌘- 缩小
- ⌘0 恢复到 100%

可选的缩放比例：50%、75%、100%、125%、150%、200%

### 保存

- ⌘S 保存
- ⇧⌘S 另存为
- 软件会每 30 秒自动保存一次

### 页面缩略图

点击 PDF 左侧的折叠栏可以展开页面缩略图，点缩略图可以跳转到对应页面。

## 快捷键

| 功能 | 快捷键 |
|------|--------|
| 打开文件 | ⌘O |
| 保存 | ⌘S |
| 另存为 | ⇧⌘S |
| 关闭标签页 | ⌘W |
| 搜索 | ⌘F |
| 放大 | ⌘+ |
| 缩小 | ⌘- |
| 实际大小 | ⌘0 |
| 显示/隐藏侧边栏 | ⌥⌘N |

## 已知限制

- 翻译功能只能在 macOS 15.0 以上使用
- 翻译需要从苹果下载中文语言包
- 高亮和笔记直接保存在 PDF 文件里，有些 PDF 阅读器可能不兼容

## 技术细节

如果你对实现感兴趣：

**翻译系统**
- 使用苹果的 Translation 框架
- 内置 400+ 术语的专业词汇表
- 翻译前先用占位符替换术语，翻译后再换回来，确保专业词汇翻译正确

**多行高亮**
- PDF 的高亮注释是矩形的，所以多行选择需要特殊处理
- 每一行是一个单独的 PDF 注释
- 用 Group ID 把它们关联起来
- 删除时会一起删掉

**架构**
- SwiftUI + PDFKit
- MVVM 模式
- 注释直接存在 PDF 文件里（标准格式）
- 30 秒自动保存

## 开源协议

MIT License
